{% extends '_layout.njk' %}
{% from "./macros/logout.njk" import logout %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <h1 class="govuk-heading-l">{{ serviceName }}</h1>

        <div class="govuk-cards govuk-cards--2">
        {% if auth.isHoldAdminUser %}
          <div class="govuk-cards--2__item govuk-card--dashboard">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Payment holds</h2>
            <p class="govuk-heading-l govuk-!-margin-bottom-5">
              {{ totalHolds }}
            </p>
            <ul class="govuk-list">
              <li>
                <a href="/payment-holds" class="govuk-link">Manage holds</a>
              </li>
            </ul>
          </div>
        {% endif %}
        {% if auth.isHoldAdminUser or auth.isSchemeAdminUser or auth.isDataViewUser %}
          <div class="govuk-cards--2__item govuk-card--dashboard">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Reports</h2>
            <p class="govuk-body govuk-!-margin-bottom-8">
              Download reports
            </p>
            <ul class="govuk-list">
              <li>
                <a href="/report/payment-requests" class="govuk-link">Payment request statuses</a>
              </li>
              <li>
                <a href="/report/transaction-summary" class="govuk-link">Combined transaction report</a>
              </li>
              <li>
                <a href="/report/suppressed-payments" class="govuk-link">Suppressed payment requests</a>
              </li>
              {% if totalHolds > 0 %}
                <li>
                  <a href="/report/holds" class="govuk-link">Holds</a>
                </li>
              {% endif %}
            </ul>
          </div>
        {% endif %}
        </div>
        <div class="govuk-cards govuk-cards--2">
        {% if auth.isSchemeAdminUser %}
          <div class="govuk-cards--2__item govuk-card--dashboard">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Schemes</h2>
            <p class="govuk-heading-l govuk-!-margin-bottom-5">
              {{ totalSchemes }}
            </p>
            <ul class="govuk-list">
              <li>
                <a href="/payment-schemes" class="govuk-link">Manage schemes</a>
              </li>
              <li>
                <a href="/payment-request/reset" class="govuk-link">Reset payment request</a>
              </li>
            </ul>
          </div>
        {% endif %}
        {% if auth.isHoldAdminUser or auth.isSchemeAdminUser or auth.isDataViewUser %}
          <div class="govuk-cards--2__item govuk-card--dashboard">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Monitoring</h2>
            <p class="govuk-body govuk-!-margin-bottom-8">
              View payment events
            </p>
            <ul class="govuk-list">
              <li>
                <a href="/monitoring" class="govuk-link">View events</a>
              </li>
              <li>
                <a href="/monitoring/view-processed-payment-requests" class="govuk-link">View processed payment requests</a>
              </li>
            </ul>
          </div>
        {% endif %}
      </div>
      <div class="govuk-cards govuk-cards--2">
        {% if auth.isClosureAdminUser %}
          <div class="govuk-cards--2__item govuk-card--dashboard">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Agreement closures</h2>
            <p class="govuk-heading-l govuk-!-margin-bottom-5">
              {{ totalClosures }}
            </p>
            <p class="govuk-body govuk-!-margin-bottom-8">
              Add details of an agreement number closure
            </p>
            <ul class="govuk-list">
              <li>
                <a href="/closure" class="govuk-link">Manage closures</a>
              </li>
              <li>
                <a href="/closure/add" class="govuk-link">Add closure</a>
              </li>
              <li>
                <a href="/closure/bulk" class="govuk-link">Add bulk closures</a>
              </li>
            </ul>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
